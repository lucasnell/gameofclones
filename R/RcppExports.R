# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' Logit and inverse logit functions.
#'
#'
#' @export
#'
logit <- function(p) {
    .Call(`_gameofclones_logit`, p)
}

#' @describeIn logit
#'
#' @export
#'
inv_logit <- function(a) {
    .Call(`_gameofclones_inv_logit`, a)
}

#' Create Leslie matrix from aphid info
#'
#' @param instar_days Integer vector of the number of stages (days) per aphid instar.
#' @param surv_juv Single numeric of daily juvenile survival.
#' @param surv_adult Numeric vector of aphid adult survivals by stage.
#' @param repro Numeric vector of aphid reproductive rates by stage.
#'
#'
#' @noRd
leslie_matrix <- function(instar_days, surv_juv, surv_adult, repro) {
    .Call(`_gameofclones_leslie_matrix`, instar_days, surv_juv, surv_adult, repro)
}

#' Calculate carrying capacity from aphid and plant info
#'
#' @param apterous Leslie matrix for apterous aphids of this line
#' @param alates Leslie matrix for alates of this line
#' @param alate_prop The proportion of new aphids that are alates
#' @param disp_prop The proportion of alates that disperse away from the plant.
#' @param disp_mort Mortality rate for dispersing alates.
#' @param disp_start Index for the age at which alates disperse (0-indexed).
#' @param K The "carrying capacity" for this plant.
#'
#'
#' @noRd
carrying_capacity <- function(apterous, alates, alate_prop, disp_prop, disp_mort, disp_start, K) {
    .Call(`_gameofclones_carrying_capacity`, apterous, alates, alate_prop, disp_prop, disp_mort, disp_start, K)
}

#' Compute the "stable age distribution" from a Leslie matrix
#'
#' @param leslie Leslie matrix of the population.
#'
#' @noRd
#'
#' @return Vector with the stable age distribution given the Leslie matrix.
#'
sad_leslie <- function(leslie) {
    .Call(`_gameofclones_sad_leslie`, leslie)
}

fields_to_list <- function(all_fields_ptr) {
    .Call(`_gameofclones_fields_to_list`, all_fields_ptr)
}

fields_from_vectors <- function(all_fields_ptr, N_vecs) {
    invisible(.Call(`_gameofclones_fields_from_vectors`, all_fields_ptr, N_vecs))
}

#' Check that the number of threads doesn't exceed the number available, and change
#' to 1 if OpenMP isn't enabled.
#'
#' @noRd
#'
NULL

using_openmp <- function() {
    .Call(`_gameofclones_using_openmp`)
}

sim_gameofclones_cpp <- function(n_reps, n_fields, max_plant_age, max_N, check_for_clear, clear_surv, max_t, save_every, mean_K, sd_K, K_y_mult, wilted_prop, shape1_wilted_mort, shape2_wilted_mort, attack_surv, disp_error, aphid_demog_error, wasp_demog_error, sigma_x, sigma_y, rho, extinct_N, aphid_name, leslie_mat, aphid_density_0, alate_b0, alate_b1, alate_field_disp_p, alate_plant_disp_p, disp_mort, disp_start, living_days, pred_rate, mum_density_0, mum_smooth, max_mum_density, rel_attack, a, k, h, wasp_density_0, wasp_delay, wasp_disp_m0, wasp_disp_m1, wasp_field_attract, sex_ratio, s_y, constant_wasps, perturb_when, perturb_where, perturb_who, perturb_how, n_threads, show_progress) {
    .Call(`_gameofclones_sim_gameofclones_cpp`, n_reps, n_fields, max_plant_age, max_N, check_for_clear, clear_surv, max_t, save_every, mean_K, sd_K, K_y_mult, wilted_prop, shape1_wilted_mort, shape2_wilted_mort, attack_surv, disp_error, aphid_demog_error, wasp_demog_error, sigma_x, sigma_y, rho, extinct_N, aphid_name, leslie_mat, aphid_density_0, alate_b0, alate_b1, alate_field_disp_p, alate_plant_disp_p, disp_mort, disp_start, living_days, pred_rate, mum_density_0, mum_smooth, max_mum_density, rel_attack, a, k, h, wasp_density_0, wasp_delay, wasp_disp_m0, wasp_disp_m1, wasp_field_attract, sex_ratio, s_y, constant_wasps, perturb_when, perturb_where, perturb_who, perturb_how, n_threads, show_progress)
}

restart_fill_other_pars <- function(all_fields_in_ptr, K, alate_b0, alate_b1, alate_field_disp_p, K_y_mult, s_y, a, k, h, wasp_disp_m0, wasp_disp_m1, wasp_field_attract, mum_smooth, pred_rate, max_plant_age, clear_surv) {
    .Call(`_gameofclones_restart_fill_other_pars`, all_fields_in_ptr, K, alate_b0, alate_b1, alate_field_disp_p, K_y_mult, s_y, a, k, h, wasp_disp_m0, wasp_disp_m1, wasp_field_attract, mum_smooth, pred_rate, max_plant_age, clear_surv)
}

restart_experiments_cpp <- function(all_fields_ptr, max_t, save_every, check_for_clear, stage_ts_out, show_progress, perturb_when, perturb_where, perturb_who, perturb_how) {
    .Call(`_gameofclones_restart_experiments_cpp`, all_fields_ptr, max_t, save_every, check_for_clear, stage_ts_out, show_progress, perturb_when, perturb_where, perturb_who, perturb_how)
}

